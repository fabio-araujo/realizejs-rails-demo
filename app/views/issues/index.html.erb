<%
  grid_props = {
    url: project_issues_path,
    eagerLoad: false,
    paginationOnTop: false,
    columns: {
      title: {
        label: 'Title'
      },
      description: {
        label: 'Description'
      },
      created_at: {
        label: 'Created At',
        format: 'datetime'
      }
    },
    filter: {
      resource: 'q',
      collapsible: false,
      inputs: {
        title_cont: {
          label: 'Title'
        },
        description_cont: {
          label: 'Description'
        },
        created_at: {
          component: 'datefilter',
          label: 'Created At',
          fromPredicate: 'gteq',
          toPredicate: 'lteq'
        }
      }
    },
    data: {
      dataRows: @issues,
      count: @issues.total_count
    }
  }
%>

<%=
  react_component 'IssuesGrid', {
    title: "#{@project.name} Issues",
    flashMessages: flash.to_h,
    grid: grid_props
  }
%>